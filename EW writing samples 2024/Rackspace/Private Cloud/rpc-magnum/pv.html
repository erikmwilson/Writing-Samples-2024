

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Persistent Volumes &mdash; Rackspace Private Cloud 14.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'14.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
    <link rel="next" title="External load balancers" href="external_lb.html" />
    <link rel="prev" title="Magnum services monitoring" href="monitoring/service.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Rackspace Private Cloud
          

          
            
            <img src="../_static/privatecloud.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                r14-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Rackspace Private Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-external/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ironic/index.html">Bare Metal Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-appformix-external/index.html">Optimization and Visualization User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-swift/index.html">Stand-alone Object Storage for RPCO Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal documents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-internal/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-install-internal/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Magnum Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api.html">Magnum API</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Magnum Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_templates.html">Cluster Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_certs.html">Cluster certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_operations.html">Cluster operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_environment.html">Creating a Devstack Magnum Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Magnum Centralized Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="magnum_setup.html">Installing and Configuring Magnum</a></li>
<li class="toctree-l2"><a class="reference internal" href="ha.html">High availability clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Magnum monitoring</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Persistent Volumes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hostpath">HostPath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="external_lb.html">External load balancers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">Magnum statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_registry.html">Private Docker registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting Magnum</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-monitoring-internal/index.html">Monitoring and Logging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ops-internal/index.html">Operations Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-sales-eng-internal/index.html">Rackspace Private Cloud Sales Engineering Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-exp/index.html">Upgrade Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-internal/index.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rackspace Private Cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Magnum Guide</a> &raquo;</li>
        
      <li>Persistent Volumes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rpc-magnum/pv.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="persistent-volumes">
<h1>Persistent Volumes<a class="headerlink" href="#persistent-volumes" title="Permalink to this headline">#</a></h1>
<div class="section" id="hostpath">
<h2>HostPath<a class="headerlink" href="#hostpath" title="Permalink to this headline">#</a></h2>
<p>At present, the only option for using Persistent Volumes in Magnum is to
use the HostPath option within Kubernetes. There is a fixed volume
attached to each Kubernetes Master and Minion that can be used for this
purpose. The volume is mounted at &#8216;/k8s_cbs&#8217;. Subdirectories can be
used in order to split this up for use with multiple different pods.
Additionally, multiple pods on the same node can share this storage. The
following caveats apply:</p>
<ul class="simple">
<li>Each master and minion has a separate Cinder volume. The contents of
these volumes are NOT synchronized between nodes.</li>
<li>The size of this volume is specified during Cluster Template
creation, and cannot be resized after the cluster has been created.</li>
<li>Any subdirectories must be MANUALLY created prior to attempting to
use them. They are NOT created automatically.</li>
<li>Cinder Volumes are deleted upon Cluster deletion, and are not
re-attached.</li>
</ul>
<p>The size of the Cinder volume used for this storage defaults to 5GB.
This can be changed in the Cluster Template definition, by specifying
the &#8216;cinder_volume_size&#8217; parameter, which represents the size, in GB,
of the Cinder volume.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Pod</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="o">-</span><span class="n">pd</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">containers</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">image</span><span class="p">:</span> <span class="n">gcr</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">google_containers</span><span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">webserver</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="o">-</span><span class="n">container</span>
    <span class="n">volumeMounts</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">mountPath</span><span class="p">:</span> <span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">pd</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="o">-</span><span class="n">volume</span>
  <span class="n">volumes</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="o">-</span><span class="n">volume</span>
    <span class="n">hostPath</span><span class="p">:</span>
      <span class="c1"># directory location on host</span>
      <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">k8s_cbs</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="external_lb.html" class="btn btn-neutral float-right" title="External load balancers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="monitoring/service.html" class="btn btn-neutral float-left" title="Magnum services monitoring" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rackspace

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>