

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cluster Templates &mdash; Rackspace Private Cloud 14.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'14.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
    <link rel="next" title="Cluster certificates" href="cluster_certs.html" />
    <link rel="prev" title="Magnum Architecture" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Rackspace Private Cloud
          

          
            
            <img src="../_static/privatecloud.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                r14-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Rackspace Private Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-external/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ironic/index.html">Bare Metal Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-appformix-external/index.html">Optimization and Visualization User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-swift/index.html">Stand-alone Object Storage for RPCO Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal documents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-internal/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-install-internal/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Magnum Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api.html">Magnum API</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Magnum Architecture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cluster Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-are-they">What are they</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-do-they-work">How do they work</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-settings-can-i-use">What settings can I use?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cluster_certs.html">Cluster certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_operations.html">Cluster operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_environment.html">Creating a Devstack Magnum Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Magnum Centralized Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="magnum_setup.html">Installing and Configuring Magnum</a></li>
<li class="toctree-l2"><a class="reference internal" href="ha.html">High availability clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Magnum monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="pv.html">Persistent Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_lb.html">External load balancers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">Magnum statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_registry.html">Private Docker registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting Magnum</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-monitoring-internal/index.html">Monitoring and Logging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ops-internal/index.html">Operations Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-sales-eng-internal/index.html">Rackspace Private Cloud Sales Engineering Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-exp/index.html">Upgrade Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-internal/index.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rackspace Private Cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Magnum Guide</a> &raquo;</li>
        
      <li>Cluster Templates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rpc-magnum/cluster_templates.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cluster-templates">
<h1>Cluster Templates<a class="headerlink" href="#cluster-templates" title="Permalink to this headline">#</a></h1>
<div class="section" id="what-are-they">
<h2>What are they<a class="headerlink" href="#what-are-they" title="Permalink to this headline">#</a></h2>
<p>Cluster Templates are used to store settings that will later be used to
create a Magnum cluster.</p>
</div>
<div class="section" id="how-do-they-work">
<h2>How do they work<a class="headerlink" href="#how-do-they-work" title="Permalink to this headline">#</a></h2>
<p>Cluster Templates need to be created before you are able to create a
Magnum cluster, and must be specified during cluster creation time</p>
</div>
<div class="section" id="what-settings-can-i-use">
<h2>What settings can I use?<a class="headerlink" href="#what-settings-can-i-use" title="Permalink to this headline">#</a></h2>
<p>The following settings are available to be configured in a Cluster
Template</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">keypair-id</span></code>: UUID of SSH Key to be used for Nova servers OR</li>
<li><code class="docutils literal"><span class="pre">keypair</span></code>: Name of SSH Key to be used for Nova servers</li>
<li><code class="docutils literal"><span class="pre">external-network-id</span></code>: UUID of External Network OR</li>
<li><code class="docutils literal"><span class="pre">external-network</span></code>: Name of External Network</li>
<li><code class="docutils literal"><span class="pre">master-flavor-id</span></code>: UUID of Nova Flavor that will be used for the
Kubernetes/etcd master servers OR</li>
<li><code class="docutils literal"><span class="pre">master-flavor</span></code>: Name of Nova Flavor that will be used for the
Kubernetes/etcd master servers</li>
<li><code class="docutils literal"><span class="pre">flavor-id</span></code>: UUID of Nova Flavor that will be used for the
Kubernetes worker servers OR</li>
<li><code class="docutils literal"><span class="pre">flavor</span></code>: Name of Nova Flavor that will be used for the Kubernetes
worker servers</li>
<li><code class="docutils literal"><span class="pre">image-id</span></code>: UUID of Glance Image that will be used for the Nova
servers OR</li>
<li><code class="docutils literal"><span class="pre">image</span></code>: Name of Glance Image that will be used for the Nova
servers <em>NOTE: The Glance Image chosen needs to have an ``os_distro``
property that matches the Magnum driver in use. Currently, the
Rackspace Managed Kubernetes driver requires ``os_distro = fedora``</em></li>
<li><code class="docutils literal"><span class="pre">name</span></code>: The name to be used for the Cluster Template</li>
<li><code class="docutils literal"><span class="pre">coe</span></code>: The name of the Container Orchestration Engine that will be
used. <em>NOTE: The COE that is chosen needs to match an existing Magnum
driver. Currently, the Rackspace Managed Kubernetes driver supports
``kubernetes``</em></li>
<li><code class="docutils literal"><span class="pre">fixed-network</span></code>: The Neutron network to use as the private network
for Cluster nodes. If this is not set, it will create a new private
network</li>
<li><code class="docutils literal"><span class="pre">fixed-subnet</span></code>: The Neutron subnet to use for Cluster Nodes. This
is only required if <code class="docutils literal"><span class="pre">fixed-network</span></code> is in use</li>
<li><code class="docutils literal"><span class="pre">network-driver</span></code>: The name of the network driver for internal
Container networking. Valid options are <code class="docutils literal"><span class="pre">flannel</span></code> or <code class="docutils literal"><span class="pre">docker</span></code>
<em>NOTE: The Rackspace Managed Kubernetes driver requires ``flannel``</em></li>
<li><code class="docutils literal"><span class="pre">volume-driver</span></code>: The name of the volume driver for Persistent
Volumes within the COE Valid options are <code class="docutils literal"><span class="pre">cinder</span></code> or <code class="docutils literal"><span class="pre">rexray</span></code>
<em>NOTE: The Rackspace Managed Kubernetes driver does not currently
support either volume driver</em></li>
<li><code class="docutils literal"><span class="pre">dns-nameserver</span></code>: The DNS nameserver to be used on all Cluster
nodes and containers. Defaults to &#8216;8.8.8.8&#8217;. This will be used in the
private Neutron network configuration</li>
<li><code class="docutils literal"><span class="pre">docker-volume-size</span></code>: The size of the Cinder volume to be attached
to all Docker nodes to store images. If the volume is too small,
users may encounter errors when attempting to pull new images</li>
<li><code class="docutils literal"><span class="pre">docker-storage-driver</span></code>: The name of the driver used to store
Docker images and the container&#8217;s writeable layer Valid options are
<code class="docutils literal"><span class="pre">devicemapper</span></code> and <code class="docutils literal"><span class="pre">overlay</span></code> <em>NOTE: The Rackspace Managed
Kubernetes driver uses ``devicemapper``</em></li>
<li><code class="docutils literal"><span class="pre">http-proxy</span></code>: URL, including a port number, to be used to proxy
HTTP requests</li>
<li><code class="docutils literal"><span class="pre">https-proxy</span></code>: URL, includign a port number, to be used to proxy
HTTPS requests</li>
<li><code class="docutils literal"><span class="pre">no-proxy</span></code>: Comma separated list of IP addresses to be excluded
from the <code class="docutils literal"><span class="pre">http-proxy</span></code> and <code class="docutils literal"><span class="pre">https-proxy</span></code></li>
<li><code class="docutils literal"><span class="pre">labels</span></code>: Arbitrary <code class="docutils literal"><span class="pre">key=value</span></code> pairs. These are used to pass
additional information to the drivers</li>
<li><code class="docutils literal"><span class="pre">tls-disabled</span></code>: Disable TLS authentication/security on the cluster,
allowing anonymous authentication</li>
<li><code class="docutils literal"><span class="pre">public</span></code>: Make this template appear to all Magnum users</li>
<li><code class="docutils literal"><span class="pre">registry-enabled</span></code>: Creates an internal Docker registry on this
cluster</li>
<li><code class="docutils literal"><span class="pre">server-type</span></code>: Whether to use VM or Bare Metal servers for this
cluster. Valid options are <code class="docutils literal"><span class="pre">vm</span></code> and <code class="docutils literal"><span class="pre">bm</span></code> <em>NOTE: Racksapce Managed
Kubernetes only supports ``vm`` at this time</em></li>
<li><code class="docutils literal"><span class="pre">master-lb-enabled</span></code>: Creates a Load Balancer across the Master
nodes <em>NOTE: This should be used when using the Rackspace Managed
Kubernetes driver</em></li>
<li><code class="docutils literal"><span class="pre">floating-ip-enabled</span></code></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cluster_certs.html" class="btn btn-neutral float-right" title="Cluster certificates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="architecture.html" class="btn btn-neutral float-left" title="Magnum Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rackspace

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>