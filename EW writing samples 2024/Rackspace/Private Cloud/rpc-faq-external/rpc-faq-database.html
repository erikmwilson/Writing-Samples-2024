

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Database architecture &mdash; Rackspace Private Cloud 14.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'14.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
    <link rel="next" title="Clustered queue management" href="rpc-faq-clusteredqueue.html" />
    <link rel="prev" title="Networking" href="rpc-faq-network.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Rackspace Private Cloud
          

          
            
            <img src="../_static/privatecloud.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                r14-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Rackspace Private Cloud</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technical FAQ</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="rpc-technical-faq-content.html">FAQ</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-architecture.html">Operating system and architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-network.html">Networking</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Database architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-clusteredqueue.html">Clustered queue management</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-failoverha.html">Failover and high availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-loadbalance.html">Load balancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpc-faq-logs.html">Log aggregation and management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rpc-supported-software.html">Supported Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="postface.html">Document history and additional information</a></li>
<li class="toctree-l2"><a class="reference internal" href="postface.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ironic/index.html">Bare Metal Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-appformix-external/index.html">Optimization and Visualization User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-swift/index.html">Stand-alone Object Storage for RPCO Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal documents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-internal/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-install-internal/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-magnum/index.html">Magnum Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-monitoring-internal/index.html">Monitoring and Logging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ops-internal/index.html">Operations Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-sales-eng-internal/index.html">Rackspace Private Cloud Sales Engineering Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-exp/index.html">Upgrade Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-internal/index.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rackspace Private Cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Technical FAQ</a> &raquo;</li>
        
          <li><a href="rpc-technical-faq-content.html">FAQ</a> &raquo;</li>
        
      <li>Database architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rpc-faq-external/rpc-faq-database.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="database-architecture">
<h1>Database architecture<a class="headerlink" href="#database-architecture" title="Permalink to this headline">#</a></h1>
<p>Get answers to common technical questions about database architecture for
Rackspace Private Cloud Powered By OpenStack (RPCO) 14.0.</p>
<p><strong>Why does RPCO use MariaDB with Galera?</strong></p>
<p>Rackspace DBAs are familiar with MariaDB with Galera, and RPCO
support can use this knowledge to better support customers.</p>
<p><strong>What are the requirements and restrictions for a MariaDB with Galera
database cluster?</strong></p>
<p>The cluster must contain at least three database nodes. RPCO
architecture has three infrastructure nodes. and one database
container is deployed on each node.</p>
<p>MariaDB with Galera clusters with an odd number of nodes function more
effectively than clusters with an even number. A cluster with an even
number of nodes is possible, but we do <em>not</em> recommend it.</p>
<p>For more information, see <em>How is the cluster scaled up?</em>.</p>
<p><strong>How does the database cluster behave when a node fails?</strong></p>
<p>If the failure is not a catastrophic failure of all nodes
in the cluster, the cluster handles the failure gracefully.</p>
<p>** How does a cluster recover from node failure?**</p>
<p>Node failure recovery is documented in the <a class="reference external" href="https://developer.rackspace.com/docs/private-cloud/rpc/v12/rpc-ops/galera/sec-ops-galera-recovery/">RPCO Operations
Guide</a>.</p>
<p><strong>How is the cluster scaled up?</strong></p>
<p>Scaling the cluster must be done in odd numbers. For example,
when expanding from three nodes, you can expand to five nodes, but not
four. Even numbers of nodes can cause a &#8220;split brain&#8221; condition within
the cluster.</p>
<p>The cluster is scaled by simply adding new nodes to it.
Galera initiates data replication from within the existing nodes in
the cluster, and the expansion should be seamless.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rpc-faq-clusteredqueue.html" class="btn btn-neutral float-right" title="Clustered queue management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rpc-faq-network.html" class="btn btn-neutral float-left" title="Networking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rackspace

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>