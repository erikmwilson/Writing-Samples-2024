

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Checks &mdash; Rackspace Private Cloud 14.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/privatecloud.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'14.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/bolditalic.css" type="text/css" />
    <link rel="next" title="Alarms" href="alarms.html" />
    <link rel="prev" title="Entities" href="entities.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Rackspace Private Cloud
          

          
            
            <img src="../../../_static/privatecloud.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                r14-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Rackspace Private Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-faq-external/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-ironic/index.html">Bare Metal Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-appformix-external/index.html">Optimization and Visualization User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-swift/index.html">Stand-alone Object Storage for RPCO Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal documents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-faq-internal/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-install-internal/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-magnum/index.html">Magnum Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Monitoring and Logging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-ops-internal/index.html">Operations Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rpc-sales-eng-internal/index.html">Rackspace Private Cloud Sales Engineering Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rpc-sales-eng-internal/preface.html">Preface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/index.html">Rackspace Private Cloud Reference Architecture</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/index.html">Rackspace Private Cloud Powered by OpenStack (RPCO)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/copyright/index.html">Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/executive-summary/index.html">Executive summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/rackspace/index.html">Rackspace advantages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/solution-overview/index.html">Solution overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/technology-overview/index.html">Technology overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/requirements/index.html">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/environment-sizing/index.html">Environment sizing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/architectural-decisions/index.html">Architectural decisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/cloud-design/index.html">Cloud design</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/physical-design/index.html">Physical design</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../rpc-sales-eng-internal/reference_architecture/rpc-o/network-design/index.html">Network design</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">Rackspace monitoring design</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rpc-sales-eng-internal/blade_servers/blade-servers-unsuitable-openstack.html">Why Blade Servers are Unsuitable for OpenStack Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rpc-sales-eng-internal/postface.html">Document history and additional information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rpc-sales-eng-internal/postface.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-upgrade-exp/index.html">Upgrade Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rpc-upgrade-internal/index.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Rackspace Private Cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Monitoring and Logging Guide</a> &raquo;</li>
        
          <li><a href="../index.html">Rackspace monitoring design</a> &raquo;</li>
        
          <li><a href="maas-concepts.html">MaaS concepts</a> &raquo;</li>
        
      <li>Checks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/rpc-monitoring-internal/monitoring-design/concepts/checks.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="checks">
<h1>Checks<a class="headerlink" href="#checks" title="Permalink to this headline">#</a></h1>
<p>A <strong>check</strong> is a high-level specification of what to monitor and how
to monitor it. Checks are the mid-level hierarchy underneath an
entity. It must return one or more metrics (data points) used by an
alarm to evaluate a current state (<code class="docutils literal"><span class="pre">OK</span></code>, <code class="docutils literal"><span class="pre">WARNING</span></code>, or
<code class="docutils literal"><span class="pre">CRITICAL</span></code>).</p>
<p>The checks in an RPC environment are divided into two different
categories:</p>
<ul class="simple">
<li>Local checks are those run by the monitoring agent on each node,
checking not only hardware (CPU/Disk/Memory) but also any OpenStack
services running on that individual node. The metrics that local
checks gather are reported by the agent to the MaaS endpoints
through the MaaS API.</li>
<li>Remote checks are initiated from the MaaS endpoints and poll the
load balanced services from outside the environment to ensure
availability. These checks also produce metrics which are stored by
the MaaS endpoints.</li>
</ul>
<p>The combination of both local and remote checks ensure that Support
Engineers are alerted when an individual service is down on a node
(wherein the overall load balanced service would still be available),
or where there are network issues that would prevent users from
reaching the services through the load balancer (even if all services
on each node are working fine).</p>
<p>Each check can have multiple alarms. All checks are deployed with a
<code class="docutils literal"><span class="pre">.yaml</span></code> configuration file located in the
<code class="docutils literal"><span class="pre">/etc/rackspace-monitoring-agent.conf.d/</span></code> directory. These
configuration files are authoritative. Any changes made to a check
through the API will be reset to the configuration file specification
when the <code class="docutils literal"><span class="pre">rackspace-monitoring-agent</span></code> service is restarted on the
associated server. You can use Ansible to reconfigure the monitoring
configuration and restart agents across an environment.</p>
<div class="section" id="check-elements">
<h2>Check elements<a class="headerlink" href="#check-elements" title="Permalink to this headline">#</a></h2>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text"><strong>Check Elements</strong></span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Element</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Active/scheduled suppressions</td>
<td>Whether there is an active or future scheduled MaaS suppression
for this checkID.</td>
</tr>
<tr class="row-odd"><td>checkID</td>
<td>Unique ID of a check (starts with <code class="docutils literal"><span class="pre">chXXXXXXXX</span></code>).</td>
</tr>
<tr class="row-even"><td>Details (plugin file/arguments)</td>
<td>Depends on the check type. If <code class="docutils literal"><span class="pre">agent.plugin</span></code>, the script (file)
and arguments are passed. <code class="docutils literal"><span class="pre">agent.plugin</span></code> scripts are
deployed to <code class="docutils literal"><span class="pre">/usr/lib/rackspace-monitoring-agent/plugins/</span></code>.</td>
</tr>
<tr class="row-odd"><td>Label</td>
<td>The name of the check.</td>
</tr>
<tr class="row-even"><td>Monitoring zones poll</td>
<td>The region where a remote check is executed. Available
regions are DFW, ORD, IAD, LON, SYD, and HKG.</td>
</tr>
<tr class="row-odd"><td>Period (frequency)</td>
<td>How often the specific check runs. All checks deployed for RPC
runs every 60 seconds by default.</td>
</tr>
<tr class="row-even"><td>Status</td>
<td>Boolean - activates or disables a check.</td>
</tr>
<tr class="row-odd"><td>Timeout</td>
<td>After this time, the check times out and reports a failure. All
plugin-based checks are deployed with a 30 second timeout</td>
</tr>
<tr class="row-even"><td>Type</td>
<td>RPC uses checks based on remote (<code class="docutils literal"><span class="pre">remote.{http,https}</span></code>) and agent
(<code class="docutils literal"><span class="pre">agent.{cpu,disk,filesystem,network,plugin</span></code>}).</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="alarms.html" class="btn btn-neutral float-right" title="Alarms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="entities.html" class="btn btn-neutral float-left" title="Entities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rackspace

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>