

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Images &mdash; Rackspace Private Cloud 14.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'14.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
    <link rel="next" title="Compute" href="ch-compute.html" />
    <link rel="prev" title="Instances" href="ch-instances.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Rackspace Private Cloud
          

          
            
            <img src="../_static/privatecloud.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                r14-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Rackspace Private Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-external/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-ironic/index.html">Bare Metal Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-appformix-external/index.html">Optimization and Visualization User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-swift/index.html">Stand-alone Object Storage for RPCO Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal documents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../rpc-faq-internal/index.html">Technical FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-install-internal/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-magnum/index.html">Magnum Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-monitoring-internal/index.html">Monitoring and Logging Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Operations Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-verify.html">Verifying cloud deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-access.html">Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-instances.html">Instances</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Images</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-an-image-using-the-dashboard">Adding an image using the Dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-an-image-using-the-command-line">Adding an image using the command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshoot-the-image-service">Troubleshoot the Image Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ch-compute.html">Compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-galera.html">Managing Galera clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ceph.html">RPC Ceph operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-swift.html">Managing Object Storage for multiple regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-containers.html">Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-lbaas.html">Load-Balancer-as-a-Service (LBaaS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-backups.html">Backups</a></li>
<li class="toctree-l2"><a class="reference internal" href="postface.html">Document history and additional information</a></li>
<li class="toctree-l2"><a class="reference internal" href="postface.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-sales-eng-internal/index.html">Rackspace Private Cloud Sales Engineering Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-exp/index.html">Upgrade Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc-upgrade-internal/index.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rackspace Private Cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Operations Guide</a> &raquo;</li>
        
      <li>Images</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rpc-ops-internal/ch-images.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="images">
<h1>Images<a class="headerlink" href="#images" title="Permalink to this headline">#</a></h1>
<p>An image represents the operating system, software, and any settings
that instances may need depending on the project goals. Create images
first before creating any instances.</p>
<p>Adding images can be done through the Dashboard, or the command line.
Another option available is the the <code class="docutils literal"><span class="pre">python-glanceclient</span></code> tool, which
can be installed on the controller node, or on a workstation.</p>
<div class="section" id="adding-an-image-using-the-dashboard">
<h2>Adding an image using the Dashboard<a class="headerlink" href="#adding-an-image-using-the-dashboard" title="Permalink to this headline">#</a></h2>
<p>In order to add an image using the Dashboard, prepare an image binary
file, which must be accessible over HTTP using a valid and direct URL.
Images can be compressed using <code class="docutils literal"><span class="pre">.zip</span></code> or <code class="docutils literal"><span class="pre">.tar.gz</span></code>.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uploading images using the Dashboard will be available to users
with administrator privileges. Operators can set user access
privileges.</p>
</div>
</div></blockquote>
<ol class="arabic simple">
<li>Log in to the Dashboard.</li>
<li>Select the <strong>Admin</strong> tab in the navigation pane and click <strong>images</strong>.</li>
<li>Click the <strong>Create Image</strong> button. The <strong>Create an Image</strong> dialog box
will appear.</li>
<li>Enter the details of the image, including the <strong>Image Location</strong>,
which is where the URL location of the image is required.</li>
<li>Click the <strong>Create Image</strong> button. The newly created image may take
some time before it is completely uploaded since the image arrives in
an image queue.</li>
</ol>
</div>
<div class="section" id="adding-an-image-using-the-command-line">
<h2>Adding an image using the command line<a class="headerlink" href="#adding-an-image-using-the-command-line" title="Permalink to this headline">#</a></h2>
<p>Log into the controller node directly to add images using the command
line with OpenStack command line clients. Glance commands allow users to
add, manipulate, and manage images.</p>
<p>Alternatively, configure the environment with administrative access to
the controller.</p>
<ol class="arabic simple">
<li>Log into the controller node.</li>
<li>Run the <strong>openstack image create</strong> command, and specify the image name.
Use the
<code class="docutils literal"><span class="pre">--file</span> <span class="pre">&lt;The</span> <span class="pre">Image</span> <span class="pre">File&gt;</span></code> variable to specify the image file.</li>
<li>Run the <strong>openstack image set</strong> command, and specify the image name with the
<code class="docutils literal"><span class="pre">--name</span> <span class="pre">&lt;The</span> <span class="pre">Image</span> <span class="pre">Name&gt;</span></code> variable.</li>
<li>View a list of all the images currently available with <strong>openstack
image list</strong>.</li>
<li>Run the <strong>openstack image list</strong> command to view more details on each image.</li>
</ol>
<blockquote>
<div><table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text"><strong>glance image details</strong></span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Required</th>
<th class="head">Details</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--name</span> <span class="pre">NAME</span></code></td>
<td>Optional</td>
<td>A name for the image</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--is_public</span> <span class="pre">[True|False]</span></code></td>
<td>Optional</td>
<td>If set to <code class="docutils literal"><span class="pre">true</span></code>, makes the image available to all users. Permission
to set this variable is admin only by default.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--is_protected</span> <span class="pre">[True|False]</span></code></td>
<td>Optional</td>
<td>If set to <code class="docutils literal"><span class="pre">true</span></code>, this variable prevents an image from being deleted.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--container_format</span> <span class="pre">CONTAINER_FORMAT</span></code></td>
<td>Required</td>
<td>The type of container format, one of <code class="docutils literal"><span class="pre">ami</span></code>, <code class="docutils literal"><span class="pre">ari</span></code>, <code class="docutils literal"><span class="pre">aki</span></code>,
<code class="docutils literal"><span class="pre">bare</span></code>, or <code class="docutils literal"><span class="pre">ovf</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--disk_format</span> <span class="pre">DISK_FORMAT</span></code></td>
<td>Required</td>
<td>The type of disk format, one of <code class="docutils literal"><span class="pre">ami</span></code>, <code class="docutils literal"><span class="pre">ari</span></code>, <code class="docutils literal"><span class="pre">aki</span></code>, <code class="docutils literal"><span class="pre">vhd</span></code>,
<code class="docutils literal"><span class="pre">vdi</span></code>, and <code class="docutils literal"><span class="pre">iso</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--owner</span> <span class="pre">TENANT_ID</span></code></td>
<td>Optional</td>
<td>The tenant who should own the image.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--size</span> <span class="pre">SIZE</span></code></td>
<td>Optional</td>
<td>Size of the image data, which is measured in bytes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--min-disk</span> <span class="pre">DISK_GB</span></code></td>
<td>Optional</td>
<td>The minimum size of the disk needed to boot the image being configured,
which is measured in gigabytes.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--min-ram</span> <span class="pre">DISK_GB</span></code></td>
<td>Optional</td>
<td>The minimum amount of RAM needed to boot the image being configured,
which is measured in megabytes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--location</span> <span class="pre">IMAGE_URL</span></code></td>
<td>Optional</td>
<td>The location where the image data resides. This variables sets the
location as a URL. If the image data is stored on a swift service,
specify:  swift://account:&lt;key&#64;example.com&gt;/container/obj.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--checksum</span> <span class="pre">CHECKSUM</span></code></td>
<td>Optional</td>
<td>Image data hash used for verification.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--copy-from</span> <span class="pre">IMAGE_URL</span></code></td>
<td>Optional</td>
<td>Indicates that the image server should copy data immediately, and store
it in its configured image store.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--property</span> <span class="pre">KEY=VALUE</span></code></td>
<td>Optional</td>
<td>This variable associates an arbitrary property to the image, and can be
used multiple times.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--kernel_id</span></code></td>
<td>Optional</td>
<td>Specify the image ID of a kernel to use when adding AMI images.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--purge-props</span></code></td>
<td>Optional</td>
<td>Deletes image properties not explicitly set in an update request.
Properties not referenced by this variable are preserved.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--human-readable</span></code></td>
<td>Optional</td>
<td>This variable prints the image size in a human-readable format.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="troubleshoot-the-image-service">
<h2>Troubleshoot the Image Service<a class="headerlink" href="#troubleshoot-the-image-service" title="Permalink to this headline">#</a></h2>
<p>Test the OpenStack Image Service by downloading and running a virtual
machine image.</p>
<ol class="arabic">
<li><p class="first">Change into a temporary directory when logged into the target
OpenStack environment and download a copy of the image:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> mkdir /tmp/images
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> /tmp/images/
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> wget http://cdn.download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-disk.img
</pre></div>
</div>
</li>
<li><p class="first">Upload the image into the Image Service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name<span class="o">=</span>IMAGELABEL --disk-format<span class="o">=</span>FILEFORMAT <span class="se">\</span>
--container-format<span class="o">=</span>CONTAINERFORMAT --is-public<span class="o">=</span>ACCESSVALUE &gt; IMAGEFILE
</pre></div>
</div>
<p>For the arguments attached to the <strong>glance image-create</strong>, modify the
names of each argument as needed:</p>
<dl class="docutils">
<dt>IMAGELABEL</dt>
<dd><p class="first last">A label or name for the image.</p>
</dd>
<dt>FILEFORMAT</dt>
<dd><p class="first last">This argument specifies the file format of the image. Valid
vmdk. Verify an images file format with the <strong>File</strong> command.</p>
</dd>
<dt>CONTAINERFORMAT</dt>
<dd><p class="first last">This argument specifies container format. Use bare to indicate
the image file is not a file format that contains metadata from
the virtual machine.</p>
</dd>
<dt>ACCESSVALUE</dt>
<dd><p class="first last">Specifies whether a user or an admin can access and view the
image. True enables all users with access privelages, while false
restricts access to admins.</p>
</dd>
<dt>IMAGEFILE</dt>
<dd><p class="first last">This specifies the name of the downloaded image file.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The image ID returned will differ between OpenStack environments
since the ID is dynamic and variable, generated differently for
each image uploaded.</p>
</div>
</li>
<li><p class="first">Run the <strong>glance image-list</strong> to confirm the image was uploaded
successfully.</p>
</li>
<li><p class="first">Remove the locally downloaded image, since the Image Service now
stores a copy of the downloaded image.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> rm -r /tmp/images
</pre></div>
</div>
</li>
</ol>
<p>For investigating problems or errors, the Image Service directs all
activity to the <code class="docutils literal"><span class="pre">/var/log/nova-api.log</span></code> and
<code class="docutils literal"><span class="pre">/var/log/noval-compute.log</span></code> files.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ch-compute.html" class="btn btn-neutral float-right" title="Compute" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ch-instances.html" class="btn btn-neutral float-left" title="Instances" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rackspace

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>